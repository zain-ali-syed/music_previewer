(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,a){e.exports=a(85)},59:function(e,t,a){},81:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),l=a.n(c),i=a(2),s=a(3),o=a(5),u=a(4),m=a(6),d=a(23),p=a(16),h=a(10),E=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={searchTerm:""},a.handleChange=function(e){a.setState(Object(d.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.searchFor(a.state.searchTerm),a.setState({searchTerm:""}),a.props.history.push("/")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.searchTerm;return r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper white"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{id:"searchTerm",type:"search",required:!0,placeHolder:"Search for Artist, Album or Track",onChange:this.handleChange,value:e}),r.a.createElement("label",{className:"label-icon",for:"search"},r.a.createElement("i",{className:"material-icons grey-text text-darken-2"},"search"))))))}}]),t}(n.Component),f=Object(p.b)(null,function(e){return{searchFor:function(t){return e({type:"NEW_SEARCH",searchTerm:t})}}})(Object(h.e)(E)),v=function(){return r.a.createElement("footer",null,r.a.createElement("div",{class:"copyright"},r.a.createElement("p",null,"2019 - Reactplayground")),r.a.createElement("div",{class:"social"},r.a.createElement("a",{href:"#!",class:"support"},"Contact Us"),r.a.createElement("a",{href:"#!",class:"face"},"f"),r.a.createElement("a",{href:"#!",class:"tweet"},"t"),r.a.createElement("a",{href:"#!",class:"linked"},"in")))},b=(a(59),function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(f,null),t,r.a.createElement(v,null))}),g=a(9),y=a.n(g),k=a(15),w=a(7),O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={audioPlaying:!1},a.playAudio=function(e,n){t.audioPlayer&&t.audioPlayer.pause(),t.audioPlayer=new Audio(e),t.audioPlayer.play(),t.audioPlayer.onended=a.pauseAudio,a.setState(function(){return{audioPlaying:!0}}),a.props.playTrack(n)},a.pauseAudio=function(){t.audioPlayer.pause(),a.setState(function(){return{audioPlaying:!1}})},a.getDetails=function(){var e=a.props,t=e.id,n=e.type;e.history.push("/".concat(n,"/").concat(t))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.title,c=(t.link,t.preview),l=t.artist,i=t.album,s=(t.type,t.playingTrackId),o=this.state.audioPlaying;return r.a.createElement("div",{className:"col s12 m3"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:i.cover_medium,alt:"track_image"}),r.a.createElement("a",{className:"btn-floating halfway-fab waves-effect waves-light red"},o&&s===a?r.a.createElement("i",{className:"material-icons",onClick:function(){return e.pauseAudio(c)}},"pause"):r.a.createElement("i",{className:"material-icons",onClick:function(){return e.playAudio(c,a)}},"play_arrow"))),r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"truncate"},r.a.createElement("b",null,n)),r.a.createElement("p",{className:"truncate"},r.a.createElement("b",null,"Artist: "),r.a.createElement(w.b,{to:"/artist/".concat(l.id)},l.name)),r.a.createElement("p",{className:"truncate"},r.a.createElement("b",null,"Album: "),r.a.createElement(w.b,{to:"/album/".concat(i.id)},i.title))),r.a.createElement("div",{class:"card-action"},r.a.createElement("a",{href:"#!",onClick:this.getDetails},"Track details"))))}}]),t}(n.Component),j=Object(p.b)(function(e){return{playingTrackId:e.playingTrackId}},function(e){return{playTrack:function(t){return e({type:"PLAY_TRACK",trackId:t})}}})(O),N=a(42),T=a.n(N),x=function(){return r.a.createElement("div",{className:"valign-wrapper",style:{width:"100%",height:"60vh"}},r.a.createElement("div",{style:{margin:"0 auto"}},r.a.createElement(T.a,{color:"#000",type:"spin"})))},_=a(21),A=a.n(_),P="https://cors-anywhere.herokuapp.com/https://api.deezer.com",D={"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},S={fetchTracks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Hanz Zimmer",t=arguments.length>1?arguments[1]:void 0;return A.a.get("".concat(P,"/search?q=").concat(e,"&index=").concat(t),{headers:D})},fetchDetails:function(e,t){return A.a.get("".concat(P,"/").concat(t,"/").concat(e),{headers:D})},fetchAlbums:function(e){return A.a.get("".concat(P,"/artist/").concat(e,"/albums"),{headers:D})},fetchRelatedArtists:function(e){return A.a.get("".concat(P,"/artist/").concat(e,"/related"),{headers:D})}},C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={tracks:[],nextPage:"",prevPage:"",currentPage:0,pageIndex:0,total:"",loading:!0},a.fetchTracks=Object(k.a)(y.a.mark(function e(){var t,n,r,c=arguments;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:a.props.searchTerm,n=c.length>1&&void 0!==c[1]?c[1]:a.state.pageIndex,a.setState({loading:!0}),e.next=5,S.fetchTracks(t,n);case 5:r=e.sent,a.setState(function(e){var t=e.pageIndex;return{prevPage:r.data.prev,nextPage:r.data.next,total:r.data.total,tracks:r.data.data,currentPage:t,loading:!1}});case 7:case"end":return e.stop()}},e)})),a.nextPage=function(){a.state.nextPage&&a.setState(function(e){return{pageIndex:e.pageIndex+25}},a.fetchTracks)},a.prevPage=function(){a.state.prevPage&&a.setState(function(e){return{pageIndex:e.pageIndex-25}},a.fetchTracks)},a.selectPage=function(e){a.setState(function(){return{pageIndex:e}},a.fetchTracks)},a.renderPagination=function(){for(var e=a.state,t=e.currentPage,n=e.total,c=Math.ceil(n/25),l=[],i=0;i<c;i++)l.push(25*i);return r.a.createElement("ul",{class:"pagination"},r.a.createElement("li",null,r.a.createElement("a",{onClick:a.prevPage,href:"#!"},r.a.createElement("i",{class:"small material-icons"},"chevron_left"))),l.map(function(e,n){var c=t===e?"active grey":"";return r.a.createElement("li",{className:"waves-effect ".concat(c),onClick:function(){return a.selectPage(e)}},r.a.createElement("a",{href:"#!"},n+1))}),r.a.createElement("li",null,r.a.createElement("a",{onClick:a.nextPage,href:"#!"},r.a.createElement("i",{class:"material-icons"},"chevron_right"))))},a.renderTrackList=function(){var e=a.state.tracks,t=a.props.history;return e.map(function(e){var a=e.id,n=e.title,c=e.link,l=e.preview,i=e.artist,s=e.album,o=e.type;return r.a.createElement(j,{id:a,title:n,link:c,preview:l,artist:i,album:s,type:o,history:t})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchTracks()}},{key:"componentDidUpdate",value:function(e){this.props.searchTerm!==e.searchTerm&&this.fetchTracks()}},{key:"render",value:function(){return this.state.loading?r.a.createElement(x,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"center-align"},this.renderPagination()),r.a.createElement("div",{className:"row"},this.renderTrackList()))}}]),t}(n.Component),I=Object(p.b)(function(e){return{searchTerm:e.searchTerm}})(C),R=(a(81),function(e){var t=e.preview;return r.a.createElement("audio",{controls:!0},r.a.createElement("source",{src:t,type:"audio/mpeg"}),"Your browser does not support the audio element.")}),L=a(17),F=a.n(L),M=(a(38),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={details:null},a.fetchDetails=function(){var e=Object(k.a)(y.a.mark(function e(t){var n,r,c=arguments;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"track",e.next=3,S.fetchDetails(t,n);case 3:r=e.sent,a.setState(function(){return{details:r.data}});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.formatTime=function(e){return e=parseInt(e),Math.floor(F.a.duration(e,"seconds").asHours())+":"+F.a.duration(e,"seconds").minutes()+":"+F.a.duration(e,"seconds").seconds()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.fetchDetails(e)}},{key:"render",value:function(){if(!this.state.details)return r.a.createElement(x,null);var e=this.state.details,t=e.title,a=e.album,n=e.artist,c=e.bpm,l=e.duration,i=e.link,s=e.preview,o=e.explicit_lyrics,u=e.release_date,m=e.track_position;return r.a.createElement("div",null,r.a.createElement("div",{className:"card row"},r.a.createElement("div",{className:"card-image col s12 m6",style:{padding:"20px"}},r.a.createElement("img",{src:a.cover_xl})),r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("div",{class:"card-content"},r.a.createElement("div",{class:"collection-item avatar"},r.a.createElement("img",{src:n.picture_small,alt:"",className:"circle"}),r.a.createElement("span",{className:"title"},"by ",r.a.createElement(w.b,{to:"/artist/".concat(n.id)},n.name))),r.a.createElement("h4",null,t),r.a.createElement("p",null,r.a.createElement("i",null,"Album: ",r.a.createElement(w.b,{to:"/album/".concat(a.id)},a.title))),r.a.createElement("p",null,r.a.createElement("i",null,"Duration: ",F.a.duration(l,"seconds").format())),r.a.createElement("p",null,r.a.createElement("i",null,"BPM: ",c)),r.a.createElement("p",null,r.a.createElement("i",null,"Release Date: ",u)),r.a.createElement("p",null,r.a.createElement("i",null,"Explicit Lyrics: ",o?"yes":"no")),r.a.createElement("p",null,r.a.createElement("i",null,"Track Position: ",m)),r.a.createElement("p",null,r.a.createElement("i",null,"Deezer URL: ",r.a.createElement("a",{href:i,target:"_blank"},i)))),r.a.createElement("div",{class:"card-action"},r.a.createElement(R,{preview:s})))))}}]),t}(n.Component)),H=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={details:null},a.fetchDetails=function(){var e=Object(k.a)(y.a.mark(function e(t){var n,r,c=arguments;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"album",e.next=3,S.fetchDetails(t,n);case 3:r=e.sent,a.setState(function(){return{details:r.data}});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.fetchDetails(e)}},{key:"render",value:function(){if(!this.state.details)return r.a.createElement(x,null);var e=this.state.details,t=e.artist,a=e.title,n=(e.type,e.cover_big),c=e.genres,l=(e.genre_id,e.label),i=e.release_date,s=e.fans,o=(e.record_type,e.explicit_lyrics),u=(e.contributors,e.duration),m=e.nb_tracks,d=e.tracks;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card row"},r.a.createElement("div",{className:"card-image col s12 m6",style:{padding:"20px"}},r.a.createElement("img",{src:n,alt:a})),r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("div",{class:"card-content"},r.a.createElement("div",{className:"collection-item avatar"},r.a.createElement("img",{src:t.picture_small,alt:"",className:"circle"}),r.a.createElement("span",{className:"title"},"by ",r.a.createElement(w.b,{to:"/artist/".concat(t.id)},t.name))),r.a.createElement("h4",null,a),r.a.createElement("p",null,r.a.createElement("i",null,"Label: ",l)),r.a.createElement("p",null,r.a.createElement("i",null,"Genres: ",c.data.map(function(e){return e.name}))),r.a.createElement("p",null,r.a.createElement("i",null,"Tracks: ",m)),r.a.createElement("p",null,r.a.createElement("i",null,"Duration: ",F.a.duration(u,"seconds").format())),r.a.createElement("p",null,r.a.createElement("i",null,"Release Date: ",i)),r.a.createElement("p",null,r.a.createElement("i",null,"Explicit Lyrics: ",o?"yes":"no")),r.a.createElement("p",null,r.a.createElement("i",null,"Fans: ",s))),r.a.createElement("div",{class:"card-action"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("table",{className:"striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("h5",null,"Tracks")),r.a.createElement("th",null))),r.a.createElement("tbody",null,d.data.map(function(e){var t=e.id,a=e.title,n=e.preview;return r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",{style:{width:"40%"}},r.a.createElement(R,{preview:n})),r.a.createElement("td",{style:{width:"10%"}},r.a.createElement(w.b,{to:"/track/".concat(t)},"Details")))}))))))}}]),t}(n.Component),U=a(43),X=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={details:null,albums:[],relatedArtists:[]},a.fetchDetails=function(){var e=Object(k.a)(y.a.mark(function e(t){var n,r,c,l,i,s,o,u;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=S.fetchDetails(t,"artist"),r=S.fetchAlbums(t),c=S.fetchRelatedArtists(t),e.next=5,Promise.all([n,r,c]);case 5:l=e.sent,i=Object(U.a)(l,3),s=i[0],o=i[1],u=i[2],a.setState(function(){return{details:s.data,albums:o.data.data,relatedArtists:u.data.data}});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.displaySimilarArtists=function(){return a.state.relatedArtists.map(function(e){var t=e.id,a=e.name,n=e.picture_small;return r.a.createElement("div",{className:"chip grey darken-1"},r.a.createElement("img",{src:n,alt:"Contact Person"}),r.a.createElement(w.b,{to:"/artist/".concat(t)},r.a.createElement("span",{className:"white-text"},a)))})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.history.listen(function(t,a){e.setState({details:null});var n=Number(t.pathname.split("/")[2]);e.fetchDetails(n)}),this.fetchDetails(this.props.match.params.id)}},{key:"render",value:function(){if(!this.state.details)return r.a.createElement(x,null);var e=this.state.details,t=(e.id,e.name),a=e.picture_big,n=e.nb_album,c=e.nb_fan;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card row"},r.a.createElement("div",{className:"card-image col s12 m6",style:{padding:"20px"}},r.a.createElement("img",{src:a,alt:t})),r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("div",{class:"card-content"},r.a.createElement("h4",null,t),r.a.createElement("p",null,r.a.createElement("i",null,"Albums: ",n)),r.a.createElement("p",null,r.a.createElement("i",null,"Fans: ",c))),r.a.createElement("div",{class:"card-action"},r.a.createElement("h6",null,"Similar Artists"),this.displaySimilarArtists()))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("table",{className:"striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("h5",null,"Albums by ",t)),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.albums.map(function(e){var t=e.id,a=e.title,n=e.cover_small;return r.a.createElement("tr",null,r.a.createElement("td",{className:"avatar"},r.a.createElement("img",{src:n,alt:"",className:"circle"})),r.a.createElement("td",null,a),r.a.createElement("td",{style:{width:"40%"}},r.a.createElement(w.b,{to:"/album/".concat(t)},"View Tracks")))}))))))}}]),t}(n.Component),z=Object(h.e)(X),V=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(w.a,null,r.a.createElement(b,null,r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:I}),r.a.createElement(h.a,{exact:!0,path:"/track/:id",component:M}),r.a.createElement(h.a,{exact:!0,path:"/album/:id",component:H}),r.a.createElement(h.a,{exact:!0,path:"/artist/:id",component:z})))))}}]),t}(n.Component),Y=(a(83),a(24)),q=a(29),B={searchTerm:"Pink Floyd",playingTrackId:""},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLAY_TRACK":return Object(q.a)({},e,{playingTrackId:t.trackId});case"NEW_SEARCH":return Object(q.a)({},e,{searchTerm:t.searchTerm});default:return e}},K=Object(Y.b)(J,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());a(84);l.a.render(r.a.createElement(p.a,{store:K},r.a.createElement(V,null)),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.e99eaeab.chunk.js.map